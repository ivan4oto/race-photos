<section class="page">
  <div class="hero">
    <div class="hero-body">
      <p class="eyebrow">Admin • Event Photos</p>
      <h1>Photo prefixes by event</h1>
      <p class="lead">Inspect uploaded asset prefixes for this event.</p>
      <div class="actions">
        <a routerLink="/admin/events" class="btn ghost">Back to events</a>
        <button type="button" class="btn" (click)="load()" [disabled]="loading()">Refresh</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="alert error" *ngIf="error()">{{ error() }}</div>

    <div class="card">
      <header>
        <div>
          <h2>Prefixes</h2>
          <p>Event ID: {{ eventId() }}</p>
        </div>
        <div class="badge" *ngIf="!loading()">{{ rows().length }} rows</div>
      </header>

      <div class="grid-wrapper" *ngIf="rows().length > 0">
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 480px;"
          [modules]="modules"
          [theme]="theme"
          [rowData]="rows()"
          [columnDefs]="columnDefs"
          [defaultColDef]="defaultColDef"
          [animateRows]="true"
          rowSelection="single">
        </ag-grid-angular>
      </div>

      <div class="empty" *ngIf="!loading() && rows().length === 0 && !error()">
        <p>No photo assets found for this event.</p>
      </div>

      <div class="loading" *ngIf="loading()">
        <div class="spinner"></div>
        <p>Loading…</p>
      </div>
    </div>
  </div>
</section>
